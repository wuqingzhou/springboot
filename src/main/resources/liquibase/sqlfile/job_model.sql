create or replace procedure dfdi_init
as
     v_cnt number;
     g_cnt number;
     a_clob clob:='{"base":{"datarunner":"192.192.188.136","enableStatistics":true,"existJobSchedule":false,"jobCode":"T-20190823173609","jobDesc":"","jobId":"1096CBFA83D049A89C828922952E0B3F","jobName":"test_hive_inlet_3","runState":"finished","showStopJobScheduleBtn":false,"strategyTypes":"[\"once\"]","tag":"数据接入","validityFrom":1566547154000,"validityTo":4097959800000},"functors":[{"entryRootId":"node_3","funcCode":"hoFilter","funcName":"functor","funcProperties":[],"inColumns":[],"nodeId":"node_4","nodeName":"过滤算子","outColumns":[],"sqlRules":["{\"id\":1,\"logic\":\"and\",\"children\":[{\"id\":0,\"leftValue\":\"a\",\"operator\":\"=\",\"rightValueType\":\"value\",\"rightValue\":\"aa1\"}]}"]}],"inlets":[{"fileName":"[]","funcProperties":[{"propKey":"charset","propType":"string","propValue":"UTF-8"},{"propKey":"enable-metrics-ingestion-time","propType":"boolean","propValue":"false"},{"propKey":"enable-metrics-event-time","propType":"boolean","propValue":"false"},{"propKey":"enable-metrics-batch",'||'"propType":"boolean","propValue":"false"},{"propKey":"tablesProperties","propType":"array","propValue":"[{\"propKey\":\"ingestion-time-format\",\"propValue\":\"yyyy-MM-dd HH:mm:ss\",\"propType\":\"string\"},{\"propKey\":\"pattern\",\"propValue\":\"^.*$\",\"propType\":\"string\"},{\"propKey\":\"batch\",\"propValue\":\"datetime\",\"propType\":\"string\"},{\"propKey\":\"table-name\",\"propValue\":\"tb_hive2zip\",\"propType\":\"string\"},{\"propKey\":\"event-time\",\"propValue\":\"datetime\",\"propType\":\"string\"},{\"propKey\":\"ingestion-time\",\"propValue\":\"datetime\",\"propType\":\"string\"},{\"propKey\":\"event-time-format\",\"propValue\":\"yyyy-MM-dd HH:mm:ss\",\"propType\":\"string\"},{\"propKey\":\"csplit\",\"propValue\":\",\",\"propType\":\"string\"}]"}],"inDbId":"MatrixHive_70f523b21f524f819376636bc9a697f3","inDbName":"hive68","inDbType":"hive-huawei-c80-security","inFuncCode":"desLine","inFuncName":"行格式转ETL内部格式","inMetadatas":[{"alias":"","protocol":"tb_hive2zip","tableName":"tb_hive2zip","tableNameCh":"tb_hive2zip"}],"inletCode":"hive-inlet","inletName":"Hive接入(hive-huawei-c80-security)","nodeId":"node_2","nodeName":"Hive接入(hive-huawei-c80-security)","parallelism":1,"propertiesList":[{"propKey":"batch-size","propType":"integer","propValue":"10000"},{"propKey":"include-pattern","propType":"string","propValue":"^.*$"},'||'{"propKey":"recursive-directory-search","propType":"boolean","propValue":"true"},{"propKey":"header-line","propType":"boolean","propValue":"false"},{"propKey":"max-scan-num","propType":"integer","propValue":"1000"},{"propKey":"with-increment-sub-dir","propType":"boolean","propValue":"true"},{"propKey":"table-name","propType":"string","propValue":"tb_hive2zip"},{"propKey":"ignore-pattern","propType":"string","propValue":"^.+tmp.+$"},{"propKey":"single-line","propType":"boolean","propValue":"true"},{"propKey":"input-charset","propType":"string","propValue":"UTF-8"}],"strategy":"","strategyType":"once"}],"mappings":[{"dbType":"local-file","entryRootId":"node_3","falseShowFq":false,"hadSave":true,"hasNewFileInfo":true,"inDbId":"MatrixHive_70f523b21f524f819376636bc9a697f3","inProtocol":"tb_hive2zip","inTableName":"tb_hive2zip","inTableNameCh":"tb_hive2zip","mapping":[{"id":"aa","inColumn":{"columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"a","columnNameCh":"","columnType":"string"},"outColumn":{"columnAlias":"a","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"a","columnNameCh":"","columnType":"STRING","hasNew":true,"hasTarget":true}},{"id":"bb","inColumn":{"columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"b","columnNameCh":"","columnType":"string"},"outColumn":{"columnAlias":"b","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"b","columnNameCh":"","columnType":"STRING","hasNew":true,"hasTarget":true}},{"id":"datetimedatetime","inColumn":{"columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"datetim
e","columnNameCh":"","columnType":"string"},"outColumn":{"columnAlias":"datetime","columnLength":0,'||'"columnMaxLen":0,"columnMinLen":0,"columnName":"datetime","columnNameCh":"","columnType":"STRING","hasNew":true,"hasTarget":true}}],"newFileInfo":{"columns":[{"columnAlias":"a","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"a","columnNameCh":"","columnType":"STRING","hasNew":true,"hasTarget":true},{"columnAlias":"b","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"b","columnNameCh":"","columnType":"STRING","hasNew":true,"hasTarget":true},{"columnAlias":"datetime","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"datetime","columnNameCh":"","columnType":"STRING","hasNew":true,"hasTarget":true}],"datalakeName":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","fileKeyword":"test_hive_inlet_3","fileName":"test_hive_inlet_3","filePath":"/data/input/gaw"},"newTableInfo":{},"nodeId":"node_5","nodeName":"test_hive_inlet_3","originalDbType":"localpath","outBasicTable":"","outDbId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","outDbName":"公安网","outProtocol":"test_hive_inlet_3","outTableColumns":[{"$ref":"$.mappings[0].newFileInfo.columns[0]"},{"$ref":"$.mappings[0].newFileInfo.columns[1]"},{"$ref":"$.mappings[0].newFileInfo.columns[2]"}],"outTableName":"test_hive_inlet_3","outTableNameCh":"test_hive_inlet_3"}],"outlets":[{"funcProperties":[{"propKey":"enable-metrics-ingestion-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-event-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-batch","propType":"boolean","propValue":""},{"propKey":"tablesProperties","propType":"array","propValue":"[]"}],"jobSectionCode":"T-20190823173609_20190823203118311","nodeId":"node_6","nodeName":"本地GA大数据标准zip文件输出(local-file)","outDbId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","outDbName":"公安网","outDbType":"local-file","outFuncCode":"serVirtual","outFuncName":"虚拟序列化器","outMetadatas":[{"mappingNodeId":"node_5","protocol":"test_hive_inlet_3","tableName":"test_hive_inlet_3","tableNameCh":"test_hive_inlet_3"}],"outletCode":"gabd-zip-outlet","outletName":"本地GA大数据标准zip文件输出(local-file)","propertiesList":[{"propKey":"batch-size","propType":"integer","propValue":"10000"},{"propKey":"extension","propType":"string","propValue":"000"},{"propKey":"send-unit-name","propType":"string","propValue":"汇智"},{"propKey":"max-record-size","propType":"integer","propValue":"5000"},{"propKey":"message-sequence","propType":"string","propValue":"111111111111111"},{"propKey":"send-unit-code","propType":"string","propValue":"111100000"},'||'{"propKey":"max-zip-size","propType":"integer","propValue":"52428800"},{"propKey":"roll-interval","propType":"integer","propValue":"300"},{"propKey":"receive-unit-code","propType":"string","propValue":"1200000"},{"propKey":"directory","propType":"string","propValue":"/data/output/o_push_zip9"},{"propKey":"version","propType":"string","propValue":"1.00"}]}],"sourceTables":[{"alias":"","dbId":"MatrixHive_70f523b21f524f819376636bc9a697f3","existColumns":[{"columnAlias":"a","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"a","columnNameCh":"","columnType":"string"},{"columnAlias":"b","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"b","columnNameCh":"","columnType":"string"},{"columnAlias":"datetime","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"datetime","columnNameCh":"","columnType":"string"}],"inNodeId":"node_2","nodeId":"node_3","nodeOutColumns":[],"protocol":"tb_hive2zip","tableName":"tb_hive2zip"}],"targetTables":[],"vectorJson":{"edges":[{"id":"node_1_link_node_2","sourceId":"node_1","sourceNodeType":"db","targetId":"node_2","targetNodeType":"inlet"},{"id":"node_2_link_node_3","sourceId":"node_2","sourceNodeType":"inlet","targetId":"node_3","targetNodeType":"table"},{"id":"node_3_link_node_4","sourceId":"node_3","sourceNodeType":"table"
,"targetId":"node_4","targetNodeType":"functor"},{"id":"node_4_link_node_5","sourceId":"node_4","sourceNodeType":"functor","targetId":"node_5","targetNodeType":"mapping"},{"id":"node_5_link_node_6","sourceId":"node_5","sourceNodeType":"mapping","targetId":"node_6","targetNodeType":"outlet"},{"id":"node_6_link_node_8","sourceId":"node_6","sourceNodeType":"outlet","targetId":"node_8","targetNodeType":"db"}],"nodes":[{"bgColor":"#59b568","dbType":"hive-huawei-c80-security","icon":"iconhive","id":"node_1","isRoot":true,"label":"hive68","name":"hive68","nodeData":"hive68","sId":"MatrixHive_70f523b21f524f819376636bc9a697f3","sType":"db","shape":"rect","type":"node","x":350,"y":350},{"bgColor":"#6f5fc1","dbType":"hive-huawei-c80-security","icon":"iconhive","id":"node_2","isRoot":false,"label":"Hive接入(hive-huawei-c80-security)","name":"Hive接入(hive-huawei-c80-security)","nodeData":"hive-inlet","rootId":"node_1","sId":"f54ef231-d924-4f20-909e-d42fffeac68a_hive-huawei-c80-security","sType":"inlet","shape":"circle","type":"node","x":450,"y":250},{"bgColor":"#49b4bb","icon":"","id":"node_3","isRoot":false,"label":"tb_hive2zip","name":"tb_hive2zip","nodeData":"tb_hive2zip","rootId":"node_1","sId":"","sType":"table","shape":"polygon","type":"node","x":550,"y":250},{"bgColor":"#cfa449","icon":"iconhoFilter","id":"node_4","isRoot":false,"label":"过滤算子","name":"过滤算子","nodeData":"hoFilter","rootId":"node_1","sId":"20a9f3f5-aa30-4ac0-ab63-5863f04319bd","sType":"functor",'||'"shape":"circle","type":"node","x":650,"y":350},{"bgColor":"#c26952","icon":"iconr_string_mapping","id":"node_5","isRoot":false,"label":"字段原样映射","name":"test_hive_inlet_3","nodeData":"r_string_mapping","rootId":"node_1","sId":"9cb62e0f-440b-401c-816f-6f59c44606b3","sType":"mapping","shape":"circle","type":"node","x":750,"y":250},{"bgColor":"#6f5fc1","dbType":"local-file","id":"node_6","isRoot":false,"label":"本地GA大数据标准zip文件输出(local-file)","name":"本地GA大数据标准zip文件输出(local-file)","nodeData":"gabd-zip-outlet","rootId":"node_1","sId":"4fb934c7-f35f-4c46-9f95-c82cc34e003a_local-file","sType":"outlet","shape":"circle","type":"node","x":850,"y":350},{"bgColor":"#59b568","dbType":"local-file","id":"node_8","isRoot":false,"label":"公安网","name":"公安网","nodeData":"公安网","rootId":"node_1","sId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","sType":"db","shape":"rect","type":"node","x":950,"y":350}]}}';
     b_clob clob:='{"base":{"datarunner":"192.192.188.136","enableStatistics":true,"existJobSchedule":false,"jobCode":"O-20190821161005","jobDesc":"oracle数据推送到zip","jobId":"DA1FF99F984342E28BA40B0A4744F855","jobName":"o_push_zip","runState":"created","showStopJobScheduleBtn":false,"strategyTypes":"[\"once\"]","tag":"数据推送","validityFrom":1566374991000,"validityTo":4097959800000},"functors":[{"entryRootId":"node_4","funcCode":"hoFilter","funcName":"functor","funcProperties":[],"inColumns":[],"nodeId":"node_5","nodeName":"过滤算子","outColumns":[],"sqlRules":["{\"id\":1,\"logic\":\"and\",\"children\":[{\"id\":0,\"leftValue\":\"let_type\",\"operator\":\"=\",\"rightValueType\":\"value\",\"rightValue\":\"inlet\"}]}"]}],"inlets":[{"fileName":"[]","funcProperties":[{"propKey":"enable-metrics-ingestion-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-event-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-batch","propType":"boolean","propValue":""}],"inDbId":"OracleDB_d8b29f5f6ec349e7a6432b7dd9e27738","inDbName":"192.192.185.96","inDbType":"oracle","inFuncCode":"desVirtual","inFuncName":"虚拟反序列化器","inMetadatas":[{"alias":"","protocol":"DSJOB.TB_DFDI_INOUTLET","tableName":"DSJOB.TB_DFDI_INOUTLET","tableNameCh":"读取入库定义表"}],"inletCode":"db-inlet","inletName":"DB接入(oracle)","nodeId":"node_2","nodeName":"DB接入(oracle)","parallelism":1,"propertiesList":[{"propKey":"batch-size","propType":"integer","propValue":"10000"},{"propKey":"increment-column-format","propType":"string","propValue":""},{"propKey":"run-query-delay","propType":"integer","propValue":"31104000"},{"propKey":"increment-column","propType":"string","propValue":""},{"propKey":"event-time-column-format","propType":"string","propValue":""},{"propKey":"event-time-column","propType":"string","propValue":""},{"propKey":"increment-column-start-from","propType":"string","propValue":""}],"strategy":"","strategyType":"once"}],'||'"mappings":[{"dbType":"local-file","entryRootId":"node_4","falseShowFq":false,"hadSave":true,"hasNewFileInfo":true,"inDbId":"OracleDB_d8b29f5f6ec349e7a6432b7dd9e27738","inProtocol":"DSJOB.TB_DFDI_INOUTLET","inTableName":"DSJOB.TB_DFDI_INOUTLET","inTableNameCh":"DSJOB.TB_DFDI_INOUTLET","mapping":[{"id":"idid","inColumn":{"columnLength":240,"columnMaxLen":240,"columnMinLen":0,"columnName":"id","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"id","columnLength":240,"columnMaxLen":240,"columnMinLen":0,"columnName":"id","columnType":"STRING","hasNew":true}},{"id":"let_typelet_type","inColumn":{"columnLength":60,"columnMaxLen":60,"columnMinLen":0,"columnName":"let_type","columnNameCh":"读取或入库：inlet-读取；outlet-入库","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"let_type","columnLength":60,"columnMaxLen":60,"columnMinLen":0,"columnName":"let_type","columnNameCh":"读取或入库：inlet-读取；outlet-入库","columnType":"STRING","hasNew":true}},{"id":"inout_codeinout_code","inColumn":{"columnLength":240,"columnMaxLen":240,"columnMinLen":0,"columnName":"inout_code","columnNameCh":"读取入库编码","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"inout_code","columnLength":240,"columnMaxLen":240,"columnMinLen":0,"columnName":"inout_code","columnNameCh":"读取入库编码","columnType":"STRING","hasNew":true}},{"id":"inout_nameinout_name","inColumn":{"columnLength":600,"columnMaxLen":600,"columnMinLen":0,"columnName":"inout_name","columnNameCh":"读取入库名称","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"inout_name","columnLength":600,"columnMaxLen":600,"columnMinLen":0,"columnName":"inout_name","columnNameCh":"读取入库名称","columnType":"STRING","hasNew":true}},{"id":"inout_descinout_desc","inColumn":{"columnLength":2400,"columnMaxLen":2400,"columnMinLen":0,"columnName":"inout_desc","columnNameCh":"读取入库描述","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"inout_desc",'||'"columnLength":2400,"columnMaxLen"
:2400,"columnMinLen":0,"columnName":"inout_desc","columnNameCh":"读取入库描述","columnType":"STRING","hasNew":true}},{"id":"datalakesdatalakes","inColumn":{"columnLength":1200,"columnMaxLen":1200,"columnMinLen":0,"columnName":"datalakes","columnNameCh":"仓库类型集合","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"datalakes","columnLength":1200,"columnMaxLen":1200,"columnMinLen":0,"columnName":"datalakes","columnNameCh":"仓库类型集合","columnType":"STRING","hasNew":true}},{"id":"functorsfunctors","inColumn":{"columnLength":1200,"columnMaxLen":1200,"columnMinLen":0,"columnName":"functors","columnNameCh":"策略编码集合","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"functors","columnLength":1200,"columnMaxLen":1200,"columnMinLen":0,"columnName":"functors","columnNameCh":"策略编码集合","columnType":"STRING","hasNew":true}},{"id":"inout_schemainout_schema","inColumn":{"columnLength":4000,"columnMaxLen":4000,"columnMinLen":0,"columnName":"inout_schema","columnNameCh":"描述SCHEMA","columnType":"CLOB"},"outColumn":{"columnAlias":"inout_schema","columnLength":4000,"columnMaxLen":4000,"columnMinLen":0,"columnName":"inout_schema","columnNameCh":"描述SCHEMA","columnType":"STRING","hasNew":true}},{"id":"create_datecreate_date","inColumn":{"columnLength":7,"columnMaxLen":7,"columnMinLen":0,"columnName":"create_date","columnNameCh":"创建时间","columnType":"DATE"},'||'"outColumn":{"columnAlias":"create_date","columnLength":30,"columnMaxLen":30,"columnMinLen":0,"columnName":"create_date","columnNameCh":"创建时间","columnType":"STRING","hasNew":true}},{"id":"last_modified_datelast_modified_date","inColumn":{"columnLength":7,"columnMaxLen":7,"columnMinLen":0,"columnName":"last_modified_date","columnNameCh":"最后一次修改时间","columnType":"DATE"},"outColumn":{"columnAlias":"last_modified_date","columnLength":30,"columnMaxLen":30,"columnMinLen":0,"columnName":"last_modified_date","columnNameCh":"最后一次修改时间","columnType":"STRING","hasNew":true}}],"newFileInfo":{"columns":[{"columnAlias":"id","columnLength":240,"columnMaxLen":240,"columnMinLen":0,"columnName":"id","columnType":"STRING","hasNew":true},{"columnAlias":"let_type","columnLength":60,"columnMaxLen":60,"columnMinLen":0,"columnName":"let_type","columnNameCh":"读取或入库：inlet-读取；outlet-入库","columnType":"STRING","hasNew":true},{"columnAlias":"inout_code","columnLength":240,"columnMaxLen":240,"columnMinLen":0,"columnName":"inout_code","columnNameCh":"读取入库编码","columnType":"STRING","hasNew":true},{"columnAlias":"inout_name","columnLength":600,"columnMaxLen":600,"columnMinLen":0,"columnName":"inout_name","columnNameCh":"读取入库名称","columnType":"STRING","hasNew":true},{"columnAlias":"inout_desc","columnLength":2400,"columnMaxLen":2400,"columnMinLen":0,"columnName":"inout_desc","columnNameCh":"读取入库描述","columnType":"STRING","hasNew":true},{"columnAlias":"datalakes","columnLength":1200,"columnMaxLen":1200,"columnMinLen":0,"columnName":"datalakes","columnNameCh":"仓库类型集合","columnType":"STRING","hasNew":true},{"columnAlias":"functors","columnLength":1200,"columnMaxLen":1200,"columnMinLen":0,"columnName":"functors","columnNameCh":"策略编码集合","columnType":"STRING","hasNew":true},{"columnAlias":"inout_schema","columnLength":4000,"columnMaxLen":4000,"columnMinLen":0,"columnName":"inout_schema","columnNameCh":"描述SCHEMA","columnType":"STRING","hasNew":true},{"columnAlias":"create_date","columnLength":30,"columnMaxLen":30,"columnMinLen":0,"columnName":"create_date","columnNameCh":"创建时间","columnType":"STRING",'||'"hasNew":true},{"columnAlias":"last_modified_date","columnLength":30,"columnMaxLen":30,"columnMinLen":0,"columnName":"last_modified_date","columnNameCh":"最后一次修改时间","columnType":"STRING","hasNew":true}],"datalakeName":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","fileName":"o_push_zip","filePath":"/data/input/gaw"},"newTableInfo":{}
,"nodeId":"node_3","nodeName":"o_push_zip","originalDbType":"localpath","outBasicTable":"","outDbId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","outDbName":"公安网","outProtocol":"o_push_zip","outTableColumns":[{"$ref":"$.mappings[0].newFileInfo.columns[0]"},{"$ref":"$.mappings[0].newFileInfo.columns[1]"},{"$ref":"$.mappings[0].newFileInfo.columns[2]"},{"$ref":"$.mappings[0].newFileInfo.columns[3]"},{"$ref":"$.mappings[0].newFileInfo.columns[4]"},{"$ref":"$.mappings[0].newFileInfo.columns[5]"},{"$ref":"$.mappings[0].newFileInfo.columns[6]"},{"$ref":"$.mappings[0].newFileInfo.columns[7]"},{"$ref":"$.mappings[0].newFileInfo.columns[8]"},{"$ref":"$.mappings[0].newFileInfo.columns[9]"}],"outTableName":"o_push_zip","outTableNameCh":"o_push_zip"}],"outlets":[{"funcProperties":[{"propKey":"enable-metrics-ingestion-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-event-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-batch","propType":"boolean","propValue":""},{"propKey":"tablesProperties","propType":"array","propValue":"[]"}],"jobSectionCode":"O-20190821161005_20190821162700662","nodeId":"node_6","nodeName":"本地GA大数据标准zip文件输出(local-file)","outDbId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","outDbName":"公安网","outDbType":"local-file","outFuncCode":"serVirtual","outFuncName":"虚拟序列化器","outMetadatas":[{"mappingNodeId":"node_3","protocol":"o_push_zip","tableName":"o_push_zip","tableNameCh":"o_push_zip"}],"outletCode":"gabd-zip-outlet","outletName":"本地GA大数据标准zip文件输出(local-file)","propertiesList":[{"propKey":"batch-size","propType":"integer","propValue":"10000"},{"propKey":"extension","propType":"string","propValue":"000"},{"propKey":"send-unit-name","propType":"string","propValue":"default"},{"propKey":"max-record-size","propType":"integer","propValue":"5000"},{"propKey":"message-sequence","propType":"string","propValue":"default"},{"propKey":"send-unit-code","propType":"string",'||'"propValue":"default"},{"propKey":"max-zip-size","propType":"integer","propValue":"52428800"},{"propKey":"roll-interval","propType":"integer","propValue":"300"},{"propKey":"receive-unit-code","propType":"string","propValue":"default"},{"propKey":"directory","propType":"string","propValue":"/data/output/o_push_zip/"},{"propKey":"version","propType":"string","propValue":"1.00"}]}],"sourceTables":[{"alias":"","dbId":"OracleDB_d8b29f5f6ec349e7a6432b7dd9e27738","existColumns":[{"columnAlias":"ID","columnLength":240,"columnMaxLen":240,"columnMinLen":0,"columnName":"id","columnType":"VARCHAR2"},{"columnAlias":"LET_TYPE","columnLength":60,"columnMaxLen":60,"columnMinLen":0,"columnName":"let_type","columnNameCh":"读取或入库：inlet-读取；outlet-入库","columnType":"VARCHAR2"},{"columnAlias":"INOUT_CODE","columnLength":240,"columnMaxLen":240,"columnMinLen":0,"columnName":"inout_code","columnNameCh":"读取入库编码","columnType":"VARCHAR2"},{"columnAlias":"INOUT_NAME","columnLength":600,"columnMaxLen":600,"columnMinLen":0,"columnName":"inout_name","columnNameCh":"读取入库名称","columnType":"VARCHAR2"},{"columnAlias":"INOUT_DESC","columnLength":2400,"columnMaxLen":2400,"columnMinLen":0,"columnName":"inout_desc","columnNameCh":"读取入库描述","columnType":"VARCHAR2"},{"columnAlias":"DATALAKES","columnLength":1200,"columnMaxLen":1200,"columnMinLen":0,"columnName":"datalakes","columnNameCh":"仓库类型集合","columnType":"VARCHAR2"},{"columnAlias":"FUNCTORS","columnLength":1200,"columnMaxLen":1200,"columnMinLen":0,"columnName":"functors","columnNameCh":"策略编码集合","columnType":"VARCHAR2"},{"columnAlias":"INOUT_SCHEMA","columnLength":4000,"columnMaxLen":4000,"columnMinLen":0,"columnName":"inout_schema","columnNameCh":"描述SCHEMA","columnType":"CLOB"},{"columnAlias":"CREATE_DATE","columnLength":7,"columnMaxLen":7,"columnMinLen":0,"columnName":"create_date","columnNameCh":"创建时间","columnType":"DATE"},{"columnAlias":"LAST
_MODIFIED_DATE","columnLength":7,"columnMaxLen":7,"columnMinLen":0,"columnName":"last_modified_date","columnNameCh":"最后一次修改时间","columnType":"DATE"}],"inNodeId":"node_2","nodeId":"node_4","nodeOutColumns":[],"protocol":"DSJOB.TB_DFDI_INOUTLET","tableName":"DSJOB.TB_DFDI_INOUTLET","tableNameCh":"读取入库定义表"}],"targetTables":[],"vectorJson":{"edges":[{"id":"node_1_link_node_2","sourceId":"node_1","sourceNodeType":"db","targetId":"node_2","targetNodeType":"inlet"},{"id":"node_2_link_node_4","sourceId":"node_2","sourceNodeType":"inlet","targetId":"node_4","targetNodeType":"table"},{"id":"node_4_link_node_5","sourceId":"node_4","sourceNodeType":"table","targetId":"node_5","targetNodeType":"functor"},{"id":"node_5_link_node_3","sourceId":"node_5","sourceNodeType":"functor","targetId":"node_3","targetNodeType":"mapping"},{"id":"node_3_link_node_6","sourceId":"node_3","sourceNodeType":"mapping","targetId":"node_6","targetNodeType":"outlet"},{"id":"node_6_link_node_8","sourceId":"node_6","sourceNodeType":"outlet","targetId":"node_8","targetNodeType":"db"}],"nodes":[{"bgColor":"#59b568","dbType":"oracle","icon":"iconoracle","id":"node_1","isRoot":true,"label":"192.192.185.96","name":"192.192.185.96","nodeData":"192.192.185.96","sId":"OracleDB_d8b29f5f6ec349e7a6432b7dd9e27738","sType":"db","shape":"rect","type":"node","x":350,"y":350},{"bgColor":"#6f5fc1","dbType":"oracle","icon":"iconoracle","id":"node_2","isRoot":false,"label":"DB接入(oracle)",'||'"name":"DB接入(oracle)","nodeData":"db-inlet","rootId":"node_1","sId":"c8d2d7c2-3cb3-4d64-9626-12e5ecd7e07a_oracle","sType":"inlet","shape":"circle","type":"node","x":450,"y":250},{"bgColor":"#c26952","icon":"iconr_string_mapping","id":"node_3","isRoot":false,"label":"字段原样映射","name":"o_push_zip","nodeData":"r_string_mapping","rootId":"node_1","sId":"d26a2d38-de4f-4025-a69a-2f43f3d01b05","sType":"mapping","shape":"circle","type":"node","x":750,"y":250},{"bgColor":"#49b4bb","icon":"","id":"node_4","isRoot":false,"label":"读取入库定义表","name":"DSJOB.TB_DFDI_INOUTLET","nodeData":"DSJOB.TB_DFDI_INOUTLET","rootId":"node_1","sId":"","sType":"table","shape":"polygon","type":"node","x":550,"y":250},{"bgColor":"#cfa449","icon":"iconhoFilter","id":"node_5","isRoot":false,"label":"过滤算子","name":"过滤算子","nodeData":"hoFilter","rootId":"node_1","sId":"caff40e5-fec4-4798-a173-1afcb598491f","sType":"functor","shape":"circle","type":"node","x":650,"y":350},{"bgColor":"#6f5fc1","dbType":"local-file","id":"node_6","isRoot":false,"label":"本地GA大数据标准zip文件输出(local-file)","name":"本地GA大数据标准zip文件输出(local-file)","nodeData":"gabd-zip-outlet","rootId":"node_1","sId":"040ce267-d675-493e-814d-9493be9ea94a_local-file","sType":"outlet","shape":"circle","type":"node","x":850,"y":350},{"bgColor":"#59b568","dbType":"local-file","id":"node_8","isRoot":false,"label":"公安网","name":"公安网","nodeData":"公安网","rootId":"node_1","sId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","sType":"db","shape":"rect","type":"node","x":950,"y":350}]}}';
     c_clob clob:='{"base":{"datarunner":"192.192.188.136","enableStatistics":true,"jobCode":"D-20191024150353","jobDesc":"","jobName":"db_hive","strategyTypes":"[\"once\"]","tag":"数据接入","validityFrom":1571898386000,"validityTo":4097959800000},"functors":[{"entryRootId":"node_5","funcCode":"hoFilter","funcName":"functor","funcProperties":[],"inColumns":[],"nodeId":"node_6","nodeName":"过滤算子","outColumns":[],"sqlRules":["{\"id\":1,\"logic\":\"and\",\"children\":[{\"id\":0,\"leftValue\":\"a\",\"operator\":\"=\",\"rightValueType\":\"value\",\"rightValue\":\"aa1\"}]}"]}],"inlets":[{"funcProperties":[{"propKey":"charset","propType":"string","propValue":"UTF-8"},{"propKey":"enable-metrics-ingestion-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-event-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-batch","propType":"boolean","propValue":""},{"propKey":"tablesProperties","propType":"array","propValue":"[{\"propKey\":\"ingestion-time-format\",\"propValue\":\"yyyy-MM-dd HH:mm:ss\",\"propType\":\"string\"},{\"propKey\":\"pattern\",\"propValue\":\"^.*$\",\"propType\":\"string\"},{\"propKey\":\"batch\",\"propValue\":\"\",\"propType\":\"string\"},{\"propKey\":\"table-name\",\"propValue\":\"tb_hive2zip\",\"propType\":\"string\"},{\"propKey\":\"event-time\",\"propValue\":\"\",\"propType\":\"string\"},{\"propKey\":\"ingestion-time\",\"propValue\":\"\",\"propType\":\"string\"},{\"propKey\":\"event-time-format\",\"propValue\":\"yyyy-MM-dd HH:mm:ss\",\"propType\":\"string\"},{\"propKey\":\"csplit\",\"propValue\":\",\",\"propType\":\"string\"}]"}],"inDbId":"MatrixHive_5abc6d0c821a42f6bc57bc93f60154ac","inDbName":"离线数据分析库","inDbType":"hive-huawei-c80-security","inFuncCode":"desLine","inFuncName":"行格式转ETL内部格式","inMetadatas":[{"alias":"","protocol":"tb_hive2zip","tableName":"tb_hive2zip","tableNameCh":"tb_hive2zip"}],"inletCode":"hive-inlet","inletName":"Hive接入(hive-huawei-c80-security)","nodeId":"node_4","nodeName":"Hive接入(hive-huawei-c80-security)","parallelism":1,"propertiesList":[{"propKey":"batch-size","propType":"integer","propValue":"10000"},{"propKey":"include-pattern","propType":"string","propValue":"^.*$"},{"propKey":"recursive-directory-search","propType":"boolean","propValue":"true"},{"propKey":"header-line","propType":"boolean","propValue":"false"},{"propKey":"max-scan-num","propType":"integer","propValue":"1000"},{"propKey":"with-increment-sub-dir","propType":"boolean","propValue":"false"},{"propKey":"table-name","propType":"string","propValue":"default"},{"propKey":"ignore-pattern","propType":"string","propValue":".*tmp"},{"propKey":"single-line","propType":"boolean","propValue":"true"},{"propKey":"input-charset","propType":"string","propValue":"UTF-8"}],"strategy":"","strategyType":"once"}],"mappings":[{"dbType":"local-file","entryRootId":"node_5","falseShowFq":false,"hadSave":true,"hasNewFileInfo":true,"inDbId":"MatrixHive_5abc6d0c821a42f6bc57bc93f60154ac","inOriginalDbType":"MatrixHive","inProtocol":"tb_hive2zip","inTableName":"tb_hive2zip","inTableNameCh":"tb_hive2zip","mapping":[{"id":"aa","inColumn":{"columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"a","columnNameCh":"","columnType":"string"},"outColumn":{"columnAlias":"a","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"a","columnNameCh":"","columnType":"STRING","hasNew":true}},{"id":"bb","inColumn":{"columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"b","columnNameCh":"","columnType":"string"},"outColumn":{"columnAlias":"b","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"b","columnNameCh":"","columnType":"STRING","hasNew":true}},{"id":"datetimedatetime","inColumn":{"columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"datetime","columnNameCh":"","columnType":"string"},"outColumn":{"columnAlias":"datetime","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"datetime","columnNameCh":"","columnType":"STRING","hasNew":true}}],"newFileInfo":{"columns":[{"columnAlias":"a","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"a","columnNameCh":"","columnType":"STRING","hasNew":true},{"columnAlias":"b","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"b","columnNameCh":"","columnType":"STRING","hasNew":true},{"columnAlias":"datetime","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"datetime","columnNameCh":"","columnType":"STRING","hasNew":true},{"columnAlias":"day_zcjcs","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"day_zcjcs","columnNameCh":"","columnType":"STRING","hasTarget":true},{"columnAlias":"zjhm","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"zjhm","columnNameCh":"","columnType":"STRING","hasTarget":true},{"columnAlias":"jdchphm","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"jdchphm","columnNameCh":"","columnType":"STRING","hasTarget":true}],"datalakeName":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","fileKeyword":"test_hive_inlet_3","fileName":"test_hive_inlet_3","filePath":"/data/input/gaw"},"newTableInfo":{},"nodeId":"node_7","nodeName":"test_hive_inlet_3","originalDbType":"localpath","outBasicTable":"","outDbId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","outDbName":"公安网","outProtocol":"test_hive_inlet_3","outTableColumns":[{"$ref":"$.mappings[0].newFileInfo.columns[0]"},{"$ref":"$.mappings[0].newFileInfo.columns[1]"},{"$ref":"$.mappings[0].newFileInfo.columns[2]"},{"$ref":"$.mappings[0].newFileInfo.columns[3]"},{"$ref":"$.mappings[0].newFileInfo.columns[4]"},{"$ref":"$.mappings[0].newFileInfo.columns[5]"}],"outTableName":"test_hive_inlet_3","outTableNameCh":"test_hive_inlet_3"}],"outlets":[{"funcProperties":[{"propKey":"enable-metrics-ingestion-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-event-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-batch","propType":"boolean","propValue":""}],"nodeId":"node_8","nodeName":"5G大数据标准zip文件输出(local-file)","outDbId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","outDbName":"公安网","outDbType":"local-file","outFuncCode":"serVirtual","outFuncName":"虚拟序列化器","outMetadatas":[{"mappingNodeId":"node_7","protocol":"test_hive_inlet_3","tableName":"test_hive_inlet_3","tableNameCh":"test_hive_inlet_3"}],"outletCode":"tg-zip-outlet","outletName":"5G大数据标准zip文件输出(local-file)","propertiesList":[{"propKey":"batch-size","propType":"integer","propValue":"10000"},{"propKey":"max-record-count","propType":"integer","propValue":"500000"},{"propKey":"record-type","propType":"string","propValue":"default"},{"propKey":"req-id","propType":"string","propValue":"default"},{"propKey":"transaction-capacity","propType":"integer","propValue":"10000"},{"propKey":"max-zip-size","propType":"integer","propValue":"52428800"},{"propKey":"roll-interval","propType":"integer","propValue":"300"},{"propKey":"directory","propType":"string","propValue":"/data/output/1024"},{"propKey":"scas-id","propType":"string","propValue":"default"},{"propKey":"dfp-id","propType":"string","propValue":"default"},{"propKey":"capacity","propType":"integer","propValue":"100000"}]}],"sourceTables":[{"alias":"","dbId":"MatrixHive_5abc6d0c821a42f6bc57bc93f60154ac","existColumns":[{"columnAlias":"a","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"a","columnNameCh":"","columnType":"string"},{"columnAlias":"b","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"b","columnNameCh":"","columnType":"string"},{"columnAlias":"datetime","columnLength":0,"columnMaxLen":0,"columnMinLen":0,"columnName":"datetime","columnNameCh":"","columnType":"string"}],"inNodeId":"node_4","nodeId":"node_5","nodeOutColumns":[],"protocol":"tb_hive2zip","tableName":"tb_hive2zip"}],"targetTables":[],"vectorJson":{"edges":[{"id":"node_1_link_node_4","sourceId":"node_1","sourceNodeType":"db","targetId":"node_4","targetNodeType":"inlet"},{"id":"node_4_link_node_5","sourceId":"node_4","sourceNodeType":"inlet","targetId":"node_5","targetNodeType":"table"},{"id":"node_5_link_node_6","sourceId":"node_5","sourceNodeType":"table","targetId":"node_6","targetNodeType":"functor"},{"id":"node_6_link_node_7","sourceId":"node_6","sourceNodeType":"functor","targetId":"node_7","targetNodeType":"mapping"},{"id":"node_7_link_node_8","sourceId":"node_7","sourceNodeType":"mapping","targetId":"node_8","targetNodeType":"outlet"},{"id":"node_8_link_node_10","sourceId":"node_8","sourceNodeType":"outlet","targetId":"node_10","targetNodeType":"db"}],"nodes":[{"bgColor":"#59b568","dbType":"hive-huawei-c80-security","icon":"iconhive","id":"node_1","isRoot":true,"label":"离线数据分析库","name":"离线数据分析库","nodeData":"离线数据分析库","sId":"MatrixHive_5abc6d0c821a42f6bc57bc93f60154ac","sType":"db","shape":"rect","type":"node","x":250,"y":150},{"bgColor":"#6f5fc1","dbType":"hive-huawei-c80-security","icon":"iconhive","id":"node_4","isRoot":false,"label":"Hive接入(hive-huawei-c80-security)","name":"Hive接入(hive-huawei-c80-security)","nodeData":"hive-inlet","rootId":"node_1","sId":"49e3aa87-51ad-4d01-b7b8-17e8fa5da4c0_hive-huawei-c80-security","sType":"inlet","shape":"circle","type":"node","x":450,"y":150},{"bgColor":"#49b4bb","icon":"","id":"node_5","isRoot":false,"label":"tb_hive2zip","name":"tb_hive2zip","nodeData":"tb_hive2zip","rootId":"node_1","sId":"","sType":"table","shape":"polygon","type":"node","x":650,"y":150},{"bgColor":"#cfa449","icon":"iconhoFilter","id":"node_6","isRoot":false,"label":"过滤算子","name":"过滤算子","nodeData":"hoFilter","rootId":"node_1","sId":"821247ef-8468-49c7-98b3-83a68cc4ced3","sType":"functor","shape":"circle","type":"node","x":850,"y":150},{"bgColor":"#c26952","icon":"iconr_string_mapping","id":"node_7","isRoot":false,"label":"字段原样映射","name":"test_hive_inlet_3","nodeData":"r_string_mapping","rootId":"node_1","sId":"1748e06d-a7dc-400f-97ad-be677888378b","sType":"mapping","shape":"circle","type":"node","x":950,"y":150},{"bgColor":"#6f5fc1","dbType":"local-file","id":"node_8","isRoot":false,"label":"5G大数据标准zip文件输出(local-file)","name":"5G大数据标准zip文件输出(local-file)","nodeData":"tg-zip-outlet","rootId":"node_1","sId":"9af78177-cd91-4c4f-9f31-41bc886cb994_local-file","sType":"outlet","shape":"circle","type":"node","x":1150,"y":150},{"bgColor":"#59b568","dbType":"local-file","id":"node_10","isRoot":false,"label":"公安网","name":"公安网","nodeData":"公安网","rootId":"node_1","sId":"localpath_3f09859b7cd54c3bbd6f407a0925cca1","sType":"db","shape":"rect","type":"node","x":1350,"y":150}]}}';
     d_clob clob:='{"base":{"datarunner":"192.192.188.136","enableStatistics":true,"jobCode":"OH-20191023093635","jobDesc":"","jobName":"oracle-hive_1023","strategyTypes":"[\"once\"]","tag":"数据接入","validityFrom":1571628619000,"validityTo":4097959800000},"functors":[{"entryRootId":"node_3","funcCode":"hoFilter","funcName":"functor","funcProperties":[],"inColumns":[],"nodeId":"node_4","nodeName":"过滤算子","outColumns":[],"sqlRules":["{\"id\":1,\"logic\":\"and\",\"children\":[{\"id\":0,\"leftValue\":\"id\",\"operator\":\"string_isNullOrEmpty\",\"rightValueType\":\"\",\"rightValue\":\"\"}]}"]}],"inlets":[{"funcProperties":[{"propKey":"enable-metrics-ingestion-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-event-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-batch","propType":"boolean","propValue":""}],"inDbId":"OracleDB_72d81bd2c1444c0c837bb385af9a55bb","inDbName":"数据治理结果库","inDbType":"oracle","inFuncCode":"desVirtual","inFuncName":"虚拟反序列化器","inMetadatas":[{"alias":"","protocol":"MONITOR.DATABASECHANGELOG","tableName":"MONITOR.DATABASECHANGELOG","tableNameCh":"MONITOR.DATABASECHANGELOG"}],"inletCode":"db-inlet","inletName":"DB接入(oracle)","nodeId":"node_2","nodeName":"DB接入(oracle)","parallelism":1,"propertiesList":[{"propKey":"batch-size","propType":"integer","propValue":"10000"},{"propKey":"increment-column-format","propType":"string","propValue":"yyyy-MM-dd HH:mm:ss"},{"propKey":"run-query-delay","propType":"integer","propValue":"31104000"},{"propKey":"increment-column","propType":"string","propValue":""},{"propKey":"event-time-column-format","propType":"string","propValue":""},{"propKey":"event-time-column","propType":"string","propValue":""},{"propKey":"increment-column-start-from","propType":"string","propValue":"1970-01-01 00:00:00"}],"strategy":"","strategyType":"once"}],"mappings":[{"dbType":"local-file","entryRootId":"node_3","falseShowFq":false,"hadSave":true,"hasNewFileInfo":true,"inDbId":"OracleDB_72d81bd2c1444c0c837bb385af9a55bb","inOriginalDbType":"OracleDB","inProtocol":"MONITOR.DATABASECHANGELOG","inTableName":"MONITOR.DATABASECHANGELOG","inTableNameCh":"MONITOR.DATABASECHANGELOG","mapping":[{"id":"idid","inColumn":{"columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"id","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"id","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"id","columnType":"STRING","hasNew":true}},{"id":"authorauthor","inColumn":{"columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"author","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"author","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"author","columnType":"STRING","hasNew":true}},{"id":"filenamefilename","inColumn":{"columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"filename","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"filename","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"filename","columnType":"STRING","hasNew":true}},{"id":"dateexecuteddateexecuted","inColumn":{"columnLength":6,"columnMaxLen":6,"columnMinLen":0,"columnName":"dateexecuted","columnType":"TIMESTAMP"},"outColumn":{"columnAlias":"dateexecuted","columnLength":6,"columnMaxLen":6,"columnMinLen":0,"columnName":"dateexecuted","columnType":"STRING","hasNew":true}},{"id":"orderexecutedorderexecuted","inColumn":{"columnLength":22,"columnMaxLen":22,"columnMinLen":0,"columnName":"orderexecuted","columnType":"NUMBER"},"outColumn":{"columnAlias":"orderexecuted","columnLength":22,"columnMaxLen":22,"columnMinLen":0,"columnName":"orderexecuted","columnType":"STRING","hasNew":true}},{"id":"exectypeexectype","inColumn":{"columnLength":10,"columnMaxLen":10,"columnMinLen":0,"columnName":"exectype","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"exectype","columnLength":10,"columnMaxLen":10,"columnMinLen":0,"columnName":"exectype","columnType":"STRING","hasNew":true}},{"id":"md5summd5sum","inColumn":{"columnLength":35,"columnMaxLen":35,"columnMinLen":0,"columnName":"md5sum","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"md5sum","columnLength":35,"columnMaxLen":35,"columnMinLen":0,"columnName":"md5sum","columnType":"STRING","hasNew":true}},{"id":"descriptiondescription","inColumn":{"columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"description","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"description","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"description","columnType":"STRING","hasNew":true}},{"id":"commentscomments","inColumn":{"columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"comments","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"comments","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"comments","columnType":"STRING","hasNew":true}},{"id":"tagtag","inColumn":{"columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"tag","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"tag","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"tag","columnType":"STRING","hasNew":true}},{"id":"liquibaseliquibase","inColumn":{"columnLength":20,"columnMaxLen":20,"columnMinLen":0,"columnName":"liquibase","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"liquibase","columnLength":20,"columnMaxLen":20,"columnMinLen":0,"columnName":"liquibase","columnType":"STRING","hasNew":true}},{"id":"contextscontexts","inColumn":{"columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"contexts","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"contexts","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"contexts","columnType":"STRING","hasNew":true}},{"id":"labelslabels","inColumn":{"columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"labels","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"labels","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"labels","columnType":"STRING","hasNew":true}},{"id":"deployment_iddeployment_id","inColumn":{"columnLength":10,"columnMaxLen":10,"columnMinLen":0,"columnName":"deployment_id","columnType":"VARCHAR2"},"outColumn":{"columnAlias":"deployment_id","columnLength":10,"columnMaxLen":10,"columnMinLen":0,"columnName":"deployment_id","columnType":"STRING","hasNew":true}}],"newFileInfo":{"columns":[{"columnAlias":"id","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"id","columnType":"STRING","hasNew":true},{"columnAlias":"author","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"author","columnType":"STRING","hasNew":true},{"columnAlias":"filename","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"filename","columnType":"STRING","hasNew":true},{"columnAlias":"dateexecuted","columnLength":6,"columnMaxLen":6,"columnMinLen":0,"columnName":"dateexecuted","columnType":"STRING","hasNew":true},{"columnAlias":"orderexecuted","columnLength":22,"columnMaxLen":22,"columnMinLen":0,"columnName":"orderexecuted","columnType":"STRING","hasNew":true},{"columnAlias":"exectype","columnLength":10,"columnMaxLen":10,"columnMinLen":0,"columnName":"exectype","columnType":"STRING","hasNew":true},{"columnAlias":"md5sum","columnLength":35,"columnMaxLen":35,"columnMinLen":0,"columnName":"md5sum","columnType":"STRING","hasNew":true},{"columnAlias":"description","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"description","columnType":"STRING","hasNew":true},{"columnAlias":"comments","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"comments","columnType":"STRING","hasNew":true},{"columnAlias":"tag","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"tag","columnType":"STRING","hasNew":true},{"columnAlias":"liquibase","columnLength":20,"columnMaxLen":20,"columnMinLen":0,"columnName":"liquibase","columnType":"STRING","hasNew":true},{"columnAlias":"contexts","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"contexts","columnType":"STRING","hasNew":true},{"columnAlias":"labels","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"labels","columnType":"STRING","hasNew":true},{"columnAlias":"deployment_id","columnLength":10,"columnMaxLen":10,"columnMinLen":0,"columnName":"deployment_id","columnType":"STRING","hasNew":true}],"datalakeName":"localpath_d0caa702853b4aeaab81c8ede37fb9b6","fileKeyword":"","fileName":"abcd","filePath":"/data/input/5g"},"newTableInfo":{},"nodeId":"node_5","nodeName":"abcd","originalDbType":"localpath","outBasicTable":"","outDbId":"localpath_d0caa702853b4aeaab81c8ede37fb9b6","outDbName":"5G","outProtocol":"abcd","outTableColumns":[{"$ref":"$.mappings[0].newFileInfo.columns[0]"},{"$ref":"$.mappings[0].newFileInfo.columns[1]"},{"$ref":"$.mappings[0].newFileInfo.columns[2]"},{"$ref":"$.mappings[0].newFileInfo.columns[3]"},{"$ref":"$.mappings[0].newFileInfo.columns[4]"},{"$ref":"$.mappings[0].newFileInfo.columns[5]"},{"$ref":"$.mappings[0].newFileInfo.columns[6]"},{"$ref":"$.mappings[0].newFileInfo.columns[7]"},{"$ref":"$.mappings[0].newFileInfo.columns[8]"},{"$ref":"$.mappings[0].newFileInfo.columns[9]"},{"$ref":"$.mappings[0].newFileInfo.columns[10]"},{"$ref":"$.mappings[0].newFileInfo.columns[11]"},{"$ref":"$.mappings[0].newFileInfo.columns[12]"},{"$ref":"$.mappings[0].newFileInfo.columns[13]"}],"outTableName":"abcd","outTableNameCh":"abcd"}],"outlets":[{"funcProperties":[{"propKey":"enable-metrics-ingestion-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-event-time","propType":"boolean","propValue":""},{"propKey":"enable-metrics-batch","propType":"boolean","propValue":""}],"nodeId":"node_6","nodeName":"5G大数据标准zip文件输出(local-file)","outDbId":"localpath_d0caa702853b4aeaab81c8ede37fb9b6","outDbName":"5G","outDbType":"local-file","outFuncCode":"serVirtual","outFuncName":"虚拟序列化器","outMetadatas":[{"mappingNodeId":"node_5","protocol":"abcd","tableName":"abcd","tableNameCh":"abcd"}],"outletCode":"tg-zip-outlet","outletName":"5G大数据标准zip文件输出(local-file)","propertiesList":[{"propKey":"batch-size","propType":"integer","propValue":"10000"},{"propKey":"max-record-count","propType":"integer","propValue":"500000"},{"propKey":"record-type","propType":"string","propValue":"default"},{"propKey":"req-id","propType":"string","propValue":"default"},{"propKey":"transaction-capacity","propType":"integer","propValue":"10000"},{"propKey":"max-zip-size","propType":"integer","propValue":"52428800"},{"propKey":"roll-interval","propType":"integer","propValue":"300"},{"propKey":"directory","propType":"string","propValue":"/data/input/5g"},{"propKey":"scas-id","propType":"string","propValue":"default"},{"propKey":"dfp-id","propType":"string","propValue":"default"},{"propKey":"capacity","propType":"integer","propValue":"100000"}]}],"sourceTables":[{"alias":"","dbId":"OracleDB_72d81bd2c1444c0c837bb385af9a55bb","existColumns":[{"columnAlias":"ID","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"id","columnType":"VARCHAR2"},{"columnAlias":"AUTHOR","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"author","columnType":"VARCHAR2"},{"columnAlias":"FILENAME","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"filename","columnType":"VARCHAR2"},{"columnAlias":"DATEEXECUTED","columnLength":6,"columnMaxLen":6,"columnMinLen":0,"columnName":"dateexecuted","columnType":"TIMESTAMP"},{"columnAlias":"ORDEREXECUTED","columnLength":22,"columnMaxLen":22,"columnMinLen":0,"columnName":"orderexecuted","columnType":"NUMBER"},{"columnAlias":"EXECTYPE","columnLength":10,"columnMaxLen":10,"columnMinLen":0,"columnName":"exectype","columnType":"VARCHAR2"},{"columnAlias":"MD5SUM","columnLength":35,"columnMaxLen":35,"columnMinLen":0,"columnName":"md5sum","columnType":"VARCHAR2"},{"columnAlias":"DESCRIPTION","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"description","columnType":"VARCHAR2"},{"columnAlias":"COMMENTS","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"comments","columnType":"VARCHAR2"},{"columnAlias":"TAG","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"tag","columnType":"VARCHAR2"},{"columnAlias":"LIQUIBASE","columnLength":20,"columnMaxLen":20,"columnMinLen":0,"columnName":"liquibase","columnType":"VARCHAR2"},{"columnAlias":"CONTEXTS","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"contexts","columnType":"VARCHAR2"},{"columnAlias":"LABELS","columnLength":255,"columnMaxLen":255,"columnMinLen":0,"columnName":"labels","columnType":"VARCHAR2"},{"columnAlias":"DEPLOYMENT_ID","columnLength":10,"columnMaxLen":10,"columnMinLen":0,"columnName":"deployment_id","columnType":"VARCHAR2"}],"inNodeId":"node_2","nodeId":"node_3","nodeOutColumns":[],"protocol":"MONITOR.DATABASECHANGELOG","tableName":"MONITOR.DATABASECHANGELOG"}],"targetTables":[],"vectorJson":{"edges":[{"id":"node_1_link_node_2","sourceId":"node_1","sourceNodeType":"db","targetId":"node_2","targetNodeType":"inlet"},{"id":"node_2_link_node_3","sourceId":"node_2","sourceNodeType":"inlet","targetId":"node_3","targetNodeType":"table"},{"id":"node_3_link_node_4","sourceId":"node_3","sourceNodeType":"table","targetId":"node_4","targetNodeType":"functor"},{"id":"node_4_link_node_5","sourceId":"node_4","sourceNodeType":"functor","targetId":"node_5","targetNodeType":"mapping"},{"id":"node_5_link_node_6","sourceId":"node_5","sourceNodeType":"mapping","targetId":"node_6","targetNodeType":"outlet"},{"id":"node_6_link_node_7","sourceId":"node_6","sourceNodeType":"outlet","targetId":"node_7","targetNodeType":"db"}],"nodes":[{"bgColor":"#59b568","dbType":"oracle","icon":"iconoracle","id":"node_1","isRoot":true,"label":"数据治理结果库","name":"数据治理结果库","nodeData":"数据治理结果库","sId":"OracleDB_72d81bd2c1444c0c837bb385af9a55bb","sType":"db","shape":"rect","type":"node","x":450,"y":250},{"bgColor":"#6f5fc1","dbType":"oracle","icon":"iconoracle","id":"node_2","isRoot":false,"label":"DB接入(oracle)","name":"DB接入(oracle)","nodeData":"db-inlet","rootId":"node_1","sId":"56ec0d9a-00bd-400e-9fe3-56de78e198bc_oracle","sType":"inlet","shape":"circle","type":"node","x":650,"y":250},{"bgColor":"#49b4bb","icon":"","id":"node_3","isRoot":false,"label":"MONITOR.DATABASECHANGELOG","name":"MONITOR.DATABASECHANGELOG","nodeData":"MONITOR.DATABASECHANGELOG","rootId":"node_1","sId":"","sType":"table","shape":"polygon","type":"node","x":850,"y":250},{"bgColor":"#cfa449","icon":"iconhoFilter","id":"node_4","isRoot":false,"label":"过滤算子","name":"过滤算子","nodeData":"hoFilter","rootId":"node_1","sId":"75c0dc54-63b3-404b-a401-7c6e8cd38367","sType":"functor","shape":"circle","type":"node","x":1050,"y":250},{"bgColor":"#c26952","icon":"iconr_string_mapping","id":"node_5","isRoot":false,"label":"字段原样映射","name":"abcd","nodeData":"r_string_mapping","rootId":"node_1","sId":"dcafad4b-c9da-4054-85f7-d16db7e652df","sType":"mapping","shape":"circle","type":"node","x":1250,"y":250},{"bgColor":"#6f5fc1","dbType":"local-file","id":"node_6","isRoot":false,"label":"5G大数据标准zip文件输出(local-file)","name":"5G大数据标准zip文件输出(local-file)","nodeData":"tg-zip-outlet","rootId":"node_1","sId":"6361c5fc-e2b0-4143-a653-49edb1bffd80_local-file","sType":"outlet","shape":"circle","type":"node","x":1450,"y":250},{"bgColor":"#59b568","dbType":"local-file","id":"node_7","isRoot":false,"label":"5G","name":"5G","nodeData":"5G","rootId":"node_1","sId":"localpath_d0caa702853b4aeaab81c8ede37fb9b6","sType":"db","shape":"rect","type":"node","x":1550,"y":250}]}}';
begin
     delete from TB_DFDI_JOB_MODEL where ID in ('22ED6C79869B4BC7B61C0D1D397C3259', 'BA3E45B227864D70979E2C36C8FE81AC');
     delete from TB_DFDI_JOB_MODEL where ID in ('3A6F684A58A943F4B99F8C8B68B51DE9', '15EDB863327D403D97475246EFF24EED');
     commit;
--      select count(*) into v_cnt from TB_DFDI_JOB_MODEL where ID='22ED6C79869B4BC7B61C0D1D397C3259';
--      select count(*) into g_cnt from TB_DFDI_JOB_MODEL where ID='3A6F684A58A943F4B99F8C8B68B51DE9';
--      if v_cnt = 0 then
       insert into TB_DFDI_JOB_MODEL (ID, NAME, MARK, VECTOR_JSON, CREATE_USER, CREATE_DATE, LAST_MODIFIED_USER, LAST_MODIFIED_DATE, USED_TIMES)
       values ('22ED6C79869B4BC7B61C0D1D397C3259', 'hive2gabd_20190823204710模板', '默认的hive2gabdZip模板', a_clob, 'admin', to_date('23-08-2019 20:47:10', 'dd-mm-yyyy hh24:mi:ss'), 'admin', to_date('23-08-2019 20:47:10', 'dd-mm-yyyy hh24:mi:ss'), 1);
       insert into TB_DFDI_JOB_MODEL (ID, NAME, MARK, VECTOR_JSON, CREATE_USER, CREATE_DATE, LAST_MODIFIED_USER, LAST_MODIFIED_DATE, USED_TIMES)
       values ('BA3E45B227864D70979E2C36C8FE81AC', 'db2gabd_20190821165450模板', '默认的db2gabdZip模板', b_clob, 'admin', to_date('21-08-2019 16:54:50', 'dd-mm-yyyy hh24:mi:ss'), 'admin', to_date('21-08-2019 16:54:50', 'dd-mm-yyyy hh24:mi:ss'), 1);
--      end if;
--      if g_cnt = 0 then
       insert into TB_DFDI_JOB_MODEL (ID, NAME, MARK, VECTOR_JSON, CREATE_USER, CREATE_DATE, LAST_MODIFIED_USER, LAST_MODIFIED_DATE, USED_TIMES)
       values ('3A6F684A58A943F4B99F8C8B68B51DE9', 'hive2tg-zip_20191024152243模板', 'hive2tg-zip_20191024152243作业转换成模板', c_clob, 'admin', to_date('24-10-2019 15:22:43', 'dd-mm-yyyy hh24:mi:ss'), 'admin', to_date('24-10-2019 15:22:43', 'dd-mm-yyyy hh24:mi:ss'), 1);
       insert into TB_DFDI_JOB_MODEL (ID, NAME, MARK, VECTOR_JSON, CREATE_USER, CREATE_DATE, LAST_MODIFIED_USER, LAST_MODIFIED_DATE, USED_TIMES)
       values ('15EDB863327D403D97475246EFF24EED', 'db2tg-zip_20191023094123模板', 'db2tg-zip_20191023094123作业转换成模板', d_clob, 'admin', to_date('22-10-2019', 'dd-mm-yyyy'), 'admin', to_date('22-10-2019', 'dd-mm-yyyy'), 1);
--      end if;
     commit;
end dfdi_init;